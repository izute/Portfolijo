<!DOCTYPE html>
<html lang="lv">
<head>
  <meta charset="UTF-8">
  <title>Gaidot dzimšanas dienu</title>
</head>
<body>
  <!-- 1. Virsraksts -->
  <h1>Gaidot dzimšanas dienu</h1>

  <!-- 2. Horizontāla līnija -->
  <hr>

  <!-- 3. Forma -->
  <form>
    <!-- 4. Teksts formā -->
    <p>Ievadi pilnu datumu, kad tev būs tuvākā dzimšanas diena.<br></p>

    <!-- 5. Teksts "gads" un ievades lauks -->
    <label>gads</label>
    <input type="text" name="gads">
    <br>

    <!-- 6. Teksts "mēnesis" un ievades lauks -->
    <label>mēnesis</label>
    <input type="text" name="menesis">
    <br>

    <!-- 7. Teksts "diena" un ievades lauks -->
    <label>diena</label>
    <input type="text" name="datums">
    <br>

    <!-- 8. Poga ar atribūtu onclick -->
    <input type="button" name="poga" value="Aprēķināt dienu skaitu līdz dzimšanas dienai" onclick="Dienas();">
    <br><br>

    <!-- 9. Teksts -->
    Līdz svētkiem atlikušas
    <!-- 10. Forma lauks "dienas" -->
    <input type="text" name="dienas">
    <!-- 11. Teksts -->
    dienas : ))
  </form>

  <!-- 13. Script tags ar funkciju dienas() -->
  <script>
    function Dienas() {
      // Iegūstam ievades vērtības un pārvēršam tās par skaitļiem.
      // Ievadītais gads netiek izmantots aprēķinā, jo mēs strādājam ar šodienas gadu.
      var menesis = parseInt(document.getElementsByName("menesis")[0].value, 10) - 1; // JavaScript mēneši sākas ar 0.
      var datums = parseInt(document.getElementsByName("datums")[0].value, 10);

      // Iegūstam šodienas datumu.
      var today = new Date();

      // Izveidojam datumu, izmantojot šodienas gadu un ievadīto mēnesi un dienu.
      var birthday = new Date(today.getFullYear(), menesis, datums);

      // Ja šī dzimšanas diena jau ir pagājusi šogad, tad aprēķinām nākamo dzimšanas dienu nākamajā gadā.
      if (birthday < today) {
        birthday.setFullYear(today.getFullYear() + 1);
      }

      // Aprēķinām starpību milisekundēs un pārvēršam to dienās.
      var diffTime = birthday - today;
      var diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));

      // Parādām rezultātu formas laukā "dienas".
      document.getElementsByName("dienas")[0].value = diffDays;
    }
  </script>
</body>
</html>

